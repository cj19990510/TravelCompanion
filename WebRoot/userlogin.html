<!DOCTYPE html>
<html lang="en">

<head>
<title>登陆</title>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<link rel="stylesheet" href="css/fronts/bootstrap.min.css" />
<link rel="stylesheet" href="css/fronts/camera.css" />
<link rel="stylesheet" href="css/fronts/bootstrap-responsive.min.css" />
<link rel="stylesheet" href="css/fronts/matrix-login.css" />
<link rel="stylesheet" href="css/fronts/font-awesome.css" />
<script type="text/javascript" src="js/jquery-1.5.1.min.js"></script>
<script type="text/javascript" src="js/jquery.js"></script>
<link rel="stylesheet" href="css/fronts/jquery.idcode.css" />

<script type="text/javascript" src="js/jquery.idcode.js"></script>
<script src="js/jquery.idcode.js"></script>
 <script>
     $(document).ready(function(){
          $.idcode.setCode();//加载生成验证码方法
          $("#login").click(function(){
                var isBy=$.idcode.validateCode();//调用返回值，返回值结果为true或者false
                alert("isBy+"+isBy);
                if(!isBy){
                   alert("验证码错误，请注意大小写！");
                   return false;
                } 
             
                var username=$("#username").val(); 
                var userpassword=$("#userpassword").val();
                $.ajax({
                    type:"post",
                    url:"LoginServlet",
                    data:{username:username,
                          userpassword:userpassword
                         },
                    success:function(data){
                        alert("data:"+data);
                        var c=data;
                        if(c=="0"){
                           alert("输入的账号密码有误，请重新输入！");
                        }else{
                            window.location.href="index.html";
                        }
                    }
                });
          });
          $("#idcode").click(function(){
              $.idcode.setCode();
          });
          
          
     
     });
 
 </script>
</head>
<body>	  
      <div style="width:100%;text-align: center;margin: 10 auto;position: absolute; color:white">
      <div id="loginbox">
          <form action="" method="post">
                <div>
                    <img src="images/fronts/logo.png" alt="logo" />旅游用户登录界面
                </div>
                <div class="login">
                     <tr>
                         <td>用户名:&nbsp;&nbsp;</td>
                         <input type="text" name="username" id="username" /><br>
                     </tr>
                     <tr>
                         <td>密&nbsp;&nbsp;&nbsp;码:&nbsp;&nbsp;</td>
                         <input type="password" name="userpassword" id="userpassword"/>
                     </tr>
                     
                 
                </div>
                <div>
                   <div class="input validate" id="validate" style="display:flex">
                           
							<label for="valiDate" style="margin-left: 140px;margin-top:5px;">&nbsp;验证码&nbsp;&nbsp;</label> 
							<input type="text" id="Txtidcode" class="txtVerification" style="width:110px;"> 
							<span id="idcode" class="image" style="margin-top: 5px;margin-left:20px;"></span> <!-- class="image" id="randCode" /> -->
				   </div>                 
                 </div>
                 <div class="form-actions">
                       <span><input type="button" value="登录" id="login">&nbsp;&nbsp; &nbsp;&nbsp; 
                       </span>                     
                       <button style="border:1px solid white;"><a href="userregister.html" > 注册 </a></button> 
                     
                       
                 </div>
              </div>
          </form>
      </div>
      </div>

</body>

</html>